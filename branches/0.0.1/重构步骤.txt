几个决定
只提交基本的连接与数据发送功能，jar放在第三方应用中以供使用
以连接为维度，其它功能都是这个包的扩展
容器负责引擎的初始化
引擎负责运行机制管理和相关控制事件的发出,初始化相关控制组件
过期信息持久化
cometServlet中指定引擎ID
支持配置多个引擎，由容器管理，以供同一应用中多种即时消息应用
兼容普通servlet与cometServlet
配置由XML和注解两种

连接管理机制
信息发送机制
业务扩展机制
多应用集成可设置消息服务器与各应用容器或引擎互联


----封装不到位,自己的事件需自己组装触发----
Messenger提供sendEvent(request,response)形式
Connectoer提供(request,response)形式
----程序入口不要直接写在listener中，应提供初始类，如CommetContext类----
 将Config扩展为CommetContext并提供init方法(request,response)
-----将应用与框架分离-------
服务端与客户端
-----解决雪球问题-------
去提beat机制，使用timeout机制
-----支持长轮询-------
加入长轮询连接器
-----丢失问题-------
建立发送失败cache，并定时清理
-----支持离线消息-------
cache定时清理到数据库
-----事件触发存字符串直接量-------
改变event fire方法，使用event实例，取类名